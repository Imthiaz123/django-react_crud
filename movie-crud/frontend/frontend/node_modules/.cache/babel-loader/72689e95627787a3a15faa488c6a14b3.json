{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\movie-crud\\\\frontend\\\\frontend\\\\src\\\\components\\\\AddMovie.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport API from './API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddMovie = _ref => {\n  _s();\n\n  let {\n    onAdd\n  } = _ref;\n  const [name, setName] = useState('');\n  const [genre, setGenre] = useState('');\n  const [starring, setStarring] = useState('');\n  const [summary, setSummary] = useState('');\n  const [movieId, setMovieId] = useState(null);\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    refreshMovies();\n  }, []);\n\n  const refreshMovies = () => {\n    API.get('/').then(res => {\n      setMovies(res.data);\n    }).catch(console.error);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    let item = {\n      name,\n      genre,\n      starring,\n      summary\n    };\n    API.post('/', item).then(() => refreshMovies());\n  };\n\n  const onUpdate = id => {\n    let item = {\n      name\n    };\n    API.patch(`/${id}/`, item).then(res => refreshMovies());\n  };\n\n  const onDelete = id => {\n    API.delete(`/${id}/`).then(res => refreshMovies());\n  };\n\n  function selectMovie(id) {\n    let item = movies.filter(movie => movie.id === id)[0];\n    setName(item.name);\n    setGenre(item.genre);\n    setStarring(item.starring);\n    setSummary(item.summary);\n    setMovieId(item.id);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"float-left\",\n          children: \"Create a new Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: onSubmit,\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicName\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [movieId, \"Name\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Name\",\n              value: name,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicGenre\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Genre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Genre\",\n              value: genre,\n              onChange: e => setGenre(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicStarring\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Starring\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Starring\",\n              value: starring,\n              onChange: e => setStarring(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicSummary\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Summary\",\n              value: summary,\n              onChange: e => setSummary(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"float-right\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              onClick: onSubmit,\n              className: \"mx-2\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"button\",\n              onClick: () => onUpdate(movieId),\n              className: \"mx-2\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 m\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Movie Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Genre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Starring\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: movies.map((movie, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"row\",\n                  children: movie.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\" \", movie.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: movie.genre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: movie.starring\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: movie.summary\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-pencil-square text-primary d-inline\",\n                    \"aria-hidden\": \"true\",\n                    onClick: () => selectMovie(movie.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-trash-o text-danger d-inline mx-3\",\n                    \"aria-hidden\": \"true\",\n                    onClick: () => onDelete(movie.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this)]\n              }, '', true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddMovie, \"QoUJhA8EQRCCiqEiwkP4V5nFsRg=\");\n\n_c = AddMovie;\nexport default AddMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovie\");","map":{"version":3,"sources":["C:/Users/Admin/Desktop/movie-crud/frontend/frontend/src/components/AddMovie.js"],"names":["useState","useEffect","Button","Form","API","AddMovie","onAdd","name","setName","genre","setGenre","starring","setStarring","summary","setSummary","movieId","setMovieId","movies","setMovies","refreshMovies","get","then","res","data","catch","console","error","onSubmit","e","preventDefault","item","post","onUpdate","id","patch","onDelete","delete","selectMovie","filter","movie","target","value","map","index"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { Button, Form } from 'react-bootstrap'\r\nimport API from './API'\r\n\r\nconst AddMovie = ({ onAdd }) => {\r\n  const [name, setName] = useState('')\r\n  const [genre, setGenre] = useState('')\r\n  const [starring, setStarring] = useState('')\r\n  const [summary, setSummary] = useState('')\r\n  const [movieId, setMovieId] = useState(null)\r\n  const [movies, setMovies] = useState([])\r\n\r\n  useEffect(() => {\r\n    refreshMovies()\r\n  }, [])\r\n\r\n  const refreshMovies = () => {\r\n    API.get('/')\r\n      .then(res => {\r\n        setMovies(res.data)\r\n      })\r\n      .catch(console.error)\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault()\r\n    let item = { name, genre, starring, summary }\r\n    API.post('/', item).then(() => refreshMovies())\r\n  }\r\n\r\n  const onUpdate = id => {\r\n    let item = { name }\r\n    API.patch(`/${id}/`, item).then(res => refreshMovies())\r\n  }\r\n\r\n  const onDelete = id => {\r\n    API.delete(`/${id}/`).then(res => refreshMovies())\r\n  }\r\n\r\n  function selectMovie (id) {\r\n    let item = movies.filter(movie => movie.id === id)[0]\r\n    setName(item.name)\r\n    setGenre(item.genre)\r\n    setStarring(item.starring)\r\n    setSummary(item.summary)\r\n    setMovieId(item.id)\r\n  }\r\n\r\n  return (\r\n    <div className='container mt-5'>\r\n      <div className='row'>\r\n        <div className='col-md-4'>\r\n          <h3 className='float-left'>Create a new Movie</h3>\r\n          <Form onSubmit={onSubmit} className='mt-4'>\r\n            <Form.Group className='mb-3' controlId='formBasicName'>\r\n              <Form.Label>{movieId}Name</Form.Label>\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Enter Name'\r\n                value={name}\r\n                onChange={e => setName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className='mb-3' controlId='formBasicGenre'>\r\n              <Form.Label>Genre</Form.Label>\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Enter Genre'\r\n                value={genre}\r\n                onChange={e => setGenre(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className='mb-3' controlId='formBasicStarring'>\r\n              <Form.Label>Starring</Form.Label>\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Enter Starring'\r\n                value={starring}\r\n                onChange={e => setStarring(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className='mb-3' controlId='formBasicSummary'>\r\n              <Form.Label>Summary</Form.Label>\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Enter Summary'\r\n                value={summary}\r\n                onChange={e => setSummary(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <div className='float-right'>\r\n              <Button\r\n                variant='primary'\r\n                type='submit'\r\n                onClick={onSubmit}\r\n                className='mx-2'\r\n              >\r\n                Save\r\n              </Button>\r\n              <Button\r\n                variant='primary'\r\n                type='button'\r\n                onClick={() => onUpdate(movieId)}\r\n                className='mx-2'\r\n              >\r\n                Update\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n        <div className='col-md-8 m'>\r\n          <table class='table'>\r\n            <thead>\r\n              <tr>\r\n                <th scope='col'>#</th>\r\n                <th scope='col'>Movie Name</th>\r\n                <th scope='col'>Genre</th>\r\n                <th scope='col'>Starring</th>\r\n                <th scope='col'>Summary</th>\r\n                <th scope='col'></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {movies.map((movie, index) => {\r\n                return (\r\n                  <tr key=''>\r\n                    <th scope='row'>{movie.id}</th>\r\n                    <td> {movie.name}</td>\r\n                    <td>{movie.genre}</td>\r\n                    <td>{movie.starring}</td>\r\n                    <td>{movie.summary}</td>\r\n                    <td>\r\n                      <i\r\n                        className='fa fa-pencil-square text-primary d-inline'\r\n                        aria-hidden='true'\r\n                        onClick={() => selectMovie(movie.id)}\r\n                      ></i>\r\n                      <i\r\n                        className='fa fa-trash-o text-danger d-inline mx-3'\r\n                        aria-hidden='true'\r\n                        onClick={() => onDelete(movie.id)}\r\n                      ></i>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddMovie\r\n"]},"metadata":{},"sourceType":"module"}